<!DOCTYPE HTML>
<html>
<head>
    <title>Automated Plant Caretaker - Terminal</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <link rel="stylesheet" href="assets/css/main.css" />
    <link rel="icon" href="planthelperfavicon.ico" type="image/x-icon">
    <noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
</head>
<body class="is-preload">

<header id="header">
    <a href="welcome.html" class="title">Plant Helper Terminal</a>
    <nav>
        <ul>
            <li><a href="index.html">Logout</a></li>
        </ul>
    </nav>
</header>

<div id="wrapper">

    <section id="main" class="wrapper">
        <div class="inner">
            <h1 class="major">Plant Helper Terminal</h1>

            <section>
                <h2>Welcome to the Plant Helper Terminal</h2>
                <p>This terminal allows you to interact with the Plant Helper system, which monitors and assists in taking care of your plants. Use the commands below to view and manage the settings of the Plant Helper:</p>
</div>

<section id="terminal-output">
    <div id="terminal" class="terminal-container">
    </div>
</section>

<section class="section-enter-command">
    <form method="post" action="#">
        <div class="row gtr-uniform">
            <center><div class="col-12">
                <input type="text" name="command" id="command" value="" placeholder="Press Enter to submit..." />
            </div></center>
            <div class="col-12">
            </div>
        </div>
    </form>
</section>

<div id="wrapper">
<pre>
    <code>
        
Sensors:
    - Dirt Moisture: dirtMoisture
    - Temperature: temp
    - Humidity: humidity
    - Light: light
                        
Parameters:
    - Weight: weight
    - Max Value: maxVal
    - Min. Value: minVal
    - Emergency Min. Value (dirtMoisture only): emergencyMinVal

Commands:
    - View settings: view [sensor name] settings
    - Update settings: update [sensor name] [parameter] [value]
    - Start watering: start watering
    - Stop watering: stop watering
    - Clear terminal: clear
                        
                    </code>
                </pre>
            </section>
</div>

<footer id="footer" class="wrapper alt">
    <div class="inner">
        <ul class="menu">
            <li>&copy; Automated Plant Caretaker. All rights reserved.</li>
        </ul>
    </div>
</footer>
    
<script src="assets/js/jquery.min.js"></script>
<script src="assets/js/jquery.scrollex.min.js"></script>
<script src="assets/js/jquery.scrolly.min.js"></script>
<script src="assets/js/browser.min.js"></script>
<script src="assets/js/breakpoints.min.js"></script>
<script src="assets/js/util.js"></script>
<script src="assets/js/main.js"></script>

<style>
    /* Terminal Container Styles */
    .terminal-container {
        border: 1px solid #ccc;
        background-color: black;
        color: white;
        padding: 0 20px 20px; /* Top padding 0, Right and Left padding 20px, Bottom padding 20px */
        max-width: 800px; /* Set the maximum width */
        margin: 0 auto; /* Center the container horizontally */
        overflow-y: auto; /* Enable vertical scrolling if content overflows */
        min-height: 400px; /* Set a minimum height (adjust as needed) */
    }
    
    /* Terminal Text Styles */
    .terminal-text {
        font-family: "Courier New", Courier, monospace;
        white-space: pre-line;
    }
    
    /* Style for the "Enter a Command" section */
    .section-enter-command {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: 20px;
    }
    
    /* Style for the input field within the "Enter a Command" section */
    .section-enter-command input[type="text"] {
        width: 100%; /* Adjust the width as needed */
        padding: 10px; /* Add padding to the input field as needed */
        margin-right: 10px; /* Add margin to the right (for spacing) */
    }
</style>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        const commandForm = document.querySelector("form");
        const commandInput = document.getElementById("command");
        const terminalOutput = document.getElementById("terminal");

        // Define valid sensors and parameters
        const validSensors = ["dirtmoisture", "temp", "humidity", "light"];
        const validParameters = ["weight", "maxval", "minval", "emergencyminval"];

        commandForm.addEventListener("submit", function (event) {
            event.preventDefault();

            const userInput = commandInput.value.trim();
            if (userInput) {
                const commandParts = userInput.split(" ");
                const command = commandParts[0].toLowerCase();
                const sensorName = commandParts[1] ? commandParts[1].toLowerCase() : null;
                const parameter = commandParts[2] ? commandParts[2].toLowerCase() : null;

                switch (command) {
                    case "view":
                        if (sensorName && validSensors.includes(sensorName)) {
                            appendToTerminal("Displaying settings for: " + sensorName);
                        } else {
                            appendToTerminal("System: Sensor not found. Please specify a valid sensor name.");
                        }
                        break;
                    case "update":
                        if (sensorName && parameter && commandParts.length >= 4 && validSensors.includes(sensorName) && validParameters.includes(parameter)) {
                            appendToTerminal("Updating " + sensorName + " settings: " + commandParts.slice(2).join(" "));
                        } else if (!validSensors.includes(sensorName)) {
                            appendToTerminal("System: Sensor not found.");
                        } else if (!validParameters.includes(parameter)) {
                            appendToTerminal("System: Parameter not found.");
                        } else {
                            appendToTerminal("System: Invalid update syntax. Usage: update [sensor name] [parameter] [value]");
                        }
                        break;
                    case "start":
                        if (sensorName === "watering") {
                            appendToTerminal("Starting watering...");
                        } else {
                            appendToTerminal("System: Invalid command. Did you mean 'start watering'?");
                        }
                        break;
                    case "stop":
                        if (sensorName === "watering") {
                            appendToTerminal("Stopping watering...");
                        } else {
                            appendToTerminal("System: Invalid command. Did you mean 'stop watering'?");
                        }
                        break;
                    case "clear":
                        terminalOutput.innerHTML = "";
                        break;
                    default:
                        appendToTerminal("System: Unknown command.");
                        break;
                }

                commandInput.value = "";
            }
        });

        function appendToTerminal(text) {
            const newLine = document.createElement("div");
            newLine.className = "terminal-text";
            newLine.textContent = text;
            terminalOutput.appendChild(newLine);

            terminalOutput.scrollTop = terminalOutput.scrollHeight;
        }
    });
</script>
    
</body>
</html>
